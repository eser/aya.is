@reference "@/theme.css";

.container {
  @apply max-w-5xl mx-auto py-6 space-y-4;
}

.header {
  @apply flex items-center justify-between;
}

.headerLeft {
  @apply space-y-1;
}

.title {
  @apply font-serif text-2xl font-bold text-foreground;
}

.subtitle {
  @apply text-muted-foreground text-sm;
}

/* Main Card */
.mailboxCard {
  @apply overflow-hidden p-0;
}

.mailboxLayout {
  @apply flex min-h-[600px];
}

/* Sidebar */
.sidebar {
  @apply w-[340px] min-w-[340px] border-r border-border flex flex-col;
}

.sidebarHiddenMobile {
}

.sidebarHeader {
  @apply p-3 border-b border-border flex items-center gap-1;
}

.filterTabs {
  @apply flex-1 min-w-0;
}

.sidebarActions {
  @apply flex items-center shrink-0;
}

.conversationList {
  @apply flex-1 overflow-y-auto;
}

/* Conversation Row */
.conversationRow {
  @apply flex items-center gap-3 w-full text-left px-3 py-3 transition-colors cursor-pointer border-b border-border/50;
}

.conversationRow:hover {
  @apply bg-muted/50;
}

.conversationRowActive {
  @apply bg-accent;
}

.conversationAvatar {
  @apply size-10 shrink-0;
}

.conversationAvatarGroup {
  @apply shrink-0 items-center;
}

.conversationInfo {
  @apply flex-1 min-w-0;
}

.conversationHeader {
  @apply flex items-center justify-between gap-2;
}

.conversationTitle {
  @apply text-sm font-medium truncate;
}

.conversationTime {
  @apply text-xs text-muted-foreground shrink-0;
}

.conversationPreview {
  @apply flex items-center gap-1.5 mt-0.5;
}

.previewText {
  @apply text-xs text-muted-foreground truncate;
}

.systemBadge {
  @apply text-[10px] px-1.5 py-0 shrink-0;
}

.unreadBadge {
  @apply flex items-center justify-center size-5 rounded-full bg-primary text-primary-foreground text-[10px] font-semibold shrink-0;
}

/* Detail Panel */
.detailPanel {
  @apply flex-1 flex flex-col min-w-0;
}

.detailPanelHiddenMobile {
}

.emptyDetail {
  @apply flex-1 flex flex-col items-center justify-center text-center p-8;
}

.emptyDetailIcon {
  @apply size-16 text-muted-foreground/30 mb-4;
}

.emptyDetailText {
  @apply text-muted-foreground;
}

/* Detail Content */
.detailContent {
  @apply flex flex-col h-full;
}

.detailHeader {
  @apply flex items-center gap-3 p-4;
}

.backButton {
  @apply md:hidden;
}

.detailHeaderInfo {
  @apply flex-1 min-w-0;
}

.detailTitle {
  @apply font-serif text-lg font-semibold truncate;
}

.detailSubtitle {
  @apply text-xs text-muted-foreground truncate;
}

.detailActions {
  @apply flex items-center gap-1;
}

/* Message Thread */
.messageThread {
  @apply flex-1 overflow-y-auto p-4 space-y-3;
}

.messageBubble {
  @apply rounded-lg border border-border p-4 transition-colors;
}

.messageBubble:hover {
  @apply bg-muted/30;
}

.messageContent {
  @apply space-y-2;
}

.messageHeader {
  @apply flex items-center justify-between gap-2;
}

.messageTitle {
  @apply font-medium text-sm;
}

.messageGroup {
  @apply text-sm text-foreground/70;
}

.messageDescription {
  @apply text-sm text-muted-foreground;
}

.messageFooter {
  @apply flex items-center justify-between gap-2 text-xs text-muted-foreground;
}

.messageTime {
  @apply text-xs text-muted-foreground;
}

.messageActions {
  @apply flex items-center gap-2 pt-1;
}

/* Reactions */
.reactionsRow {
  @apply flex items-center gap-1 flex-wrap;
}

.reactionChip {
  @apply text-sm px-1.5 py-0.5 rounded-full bg-muted cursor-pointer border-0;

  &:hover {
    @apply bg-muted/70;
  }
}

.reactionButton {
  @apply size-7 p-0;
}

.reactionPicker {
  @apply flex flex-row items-center gap-1 p-2 w-auto;
}

.reactionPickerItem {
  @apply text-lg p-1 rounded hover:bg-muted cursor-pointer transition-colors;
}

/* Compose Area */
.composeArea {
  @apply mt-auto;
}

.composeForm {
  @apply p-4 space-y-2;
}

.composeInput {
  @apply text-sm;
}

.composeTextarea {
  @apply text-sm resize-none;
}

.composeActions {
  @apply flex justify-end;
}

/* New Conversation Form */
.newConversationForm {
  @apply p-4 space-y-4;
}

.newConversationHeader {
  @apply flex items-center gap-2;
}

.newConversationTitle {
  @apply font-serif text-lg font-semibold;
}

.newConversationFields {
  @apply space-y-4;
}

/* Empty State */
.emptyState {
  @apply text-center py-12;
}

.emptyIcon {
  @apply size-12 mx-auto text-muted-foreground/30 mb-4;
}

.emptyText {
  @apply text-muted-foreground text-sm;
}

/* Responsive */
@media (max-width: 768px) {
  .sidebar {
    @apply w-full min-w-0;
  }

  .sidebarHiddenMobile {
    @apply hidden;
  }

  .detailPanel {
    @apply w-full;
  }

  .detailPanelHiddenMobile {
    @apply hidden;
  }

  .backButton {
    @apply flex;
  }

  .mailboxLayout {
    @apply flex-col;
  }
}
